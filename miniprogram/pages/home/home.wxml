<!--pages/home/home.wxml-->

<!--åŠ è½½ä¸­ç•Œé¢-->
<fui-loading wx:if="{{loading}}" isFixed="{{true}}" text="Loading"></fui-loading>

<!--æŠ¬å¤´çš„å­¦é™¢å›¾ç‰‡-->
<view class="header">
  <image class="logo" src="/images/home/abdnlogo.png"></image>
</view>

<!--è¡¨å•ä¸­å›¾æ¡ˆçš„æ³¨é‡Š-->
<block wx:if="{{language}}">
  <!--è¡¨å•ä¸­å›¾æ¡ˆçš„æ³¨é‡Šï¼Œä¸­æ–‡ç‰ˆ-->
  <view class="notation">
    <fui-row isFlex="{{true}}" align="middle">
      <fui-col span="{{25}}">
        <view class="user_agreement">
          <text style="text-align: center; margin: auto">âœ…ï¼šå½“å‰æ—¶æ®µå¯é¢„çº¦ â›”ï¼šå·²é¢„çº¦ï¼Œå·²å®¡æ ¸
          ğŸŸ¡ï¼šå·²é¢„çº¦ï¼Œæœªå®¡æ ¸ âš«ï¸ï¼šæ•™å¸ˆç¦ç”¨æ—¶é—´æ®µ
          </text>
        </view>
      </fui-col>
    </fui-row>
  </view>
</block>

<block wx:else>
  <!--è¡¨å•ä¸­å›¾æ¡ˆçš„æ³¨é‡Šï¼Œè‹±æ–‡ç‰ˆ-->
  <view class="notation">
    <fui-row isFlex="{{true}}" align="middle">
      <fui-col span="{{25}}">
        <view class="user_agreement">
          <text style="text-align: center; margin: auto">âœ…ï¼šBooking time â›”ï¼šBooked and passed
          ğŸŸ¡ï¼šBooking pending review âš«ï¸ï¼šBusy time
          </text>
        </view>
      </fui-col>
    </fui-row>
  </view>
</block>

<!--æ•™å¸ˆé€‰æ‹©-->
<!--æƒé™ä¸º1æˆ–3â€”â€”å­¦ç”Ÿç«¯ç•Œé¢-->
<block wx:if="{{credit === 1 || credit === 3}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <picker bindchange="bindPickerChange" value="{{index}}" range="{{teacherArray}}">
      <view class="choice">
        è¯·é€‰æ‹©æŸ¥çœ‹çš„è€å¸ˆï¼š{{teacherArray[index]}}
      </view>
    </picker>
  </block>

  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <picker bindchange="bindPickerChange" value="{{index}}" range="{{teacherArray}}">
      <view class="choice">
        Please select the teacherï¼š{{teacherArray[index]}}
      </view>
    </picker>
  </block>
</block>

<!--æƒé™ä¸º2æˆ–4â€”â€”æ•™å¸ˆç«¯ç•Œé¢-->
<block wx:elif="{{credit === 2 || credit === 4}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <view class="choice">
      â€œ{{teacherArray[index]}}â€çš„æ—¶é—´è¡¨ä¿¡æ¯
    </view>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <view class="choice">
      Schedule imformation of "{{teacherArray[index]}}"
    </view>
  </block>
</block>

<!--æƒé™ä¸º5â€”â€”ç®¡ç†å‘˜ç•Œé¢-->
<block wx:else class="outter_picker">

</block>

<!--æ•™å¸ˆæ—¶é—´é¢„çº¦ä¿¡æ¯è¡¨-->
<!--æƒé™ä¸º1æˆ–3â€”â€”å­¦ç”Ÿç«¯ç•Œé¢-->
<block wx:if="{{credit === 1 || credit === 3}}">
  <fui-table fixed="true" itemList="{{tableData}}" header="{{headerData}}" full="true" gap="0" stripe="true" stripeColor="#ffefd5" headerBgColor="#8ecfc9" class="table_student" bind:clickCol="getSelcet_student"></fui-table>
</block>

<!--æƒé™ä¸º2æˆ–4â€”â€”æ•™å¸ˆç«¯ç•Œé¢-->
<block wx:elif="{{credit === 2 || credit === 4}}">
  <fui-table fixed="true" itemList="{{tableData}}" header="{{headerData}}" full="true" gap="0" stripe="true" stripeColor="#ffefd5" headerBgColor="#8ecfc9" class="table_student" bind:clickCol="getSelcet"></fui-table>
</block>

<!--æƒé™ä¸º5â€”â€”ç®¡ç†å‘˜ç•Œé¢-->
<block wx:else>

</block>


<!--é€‰æ‹©æ—¶é—´è¡¨å…ƒç´ ä¿¡æ¯å±•ç¤ºä¸ç¡®è®¤åŠŸèƒ½-->
<!--æƒé™ä¸º1æˆ–3â€”â€”å­¦ç”Ÿç«¯ç•Œé¢-->
<block wx:if="{{credit === 1 || credit === 3}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <view class="section">
      <view class="picker" 	space="ensp">
        é€‰æ‹©çš„æ—¥æœŸï¼š    {{selectBanDay}}
      </view>
    </view>
    <view class="section">
      <view class="picker" 	space="ensp">
        é€‰æ‹©çš„æ—¶æ®µï¼š    {{selectBanTime}}
      </view>
    </view>
    <fui-button type="success" radius="96rpx" disabled="{{disable}}" bind:click="goAppointment">é¢„çº¦æ­¤æ—¶é—´æ®µ</fui-button>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <view class="section">
      <view class="picker" 	space="ensp">
        Date of Selectï¼š    {{dayArray[dayindex]}}
      </view>
    </view>
    <view class="section">
      <view class="picker" 	space="ensp">
        Time period of Selectï¼š    {{timePeriodArray[timePeriodIndex]}}
      </view>
    </view>
    <fui-button type="success" radius="96rpx" disabled="{{disable}}" bind:click="goAppointment">Select this time period</fui-button>
  </block>
</block>

<!--æƒé™ä¸º2æˆ–4â€”â€”æ•™å¸ˆç«¯ç•Œé¢-->
<block wx:if="{{credit === 2 || credit === 4}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <view class="section">
      <view class="picker" 	space="ensp">
        ç¦ç”¨/å¯ç”¨æ—¥æœŸï¼š    {{selectBanDay}}
      </view>
    </view>
    <view class="section">
      <view class="picker" 	space="ensp">
        ç¦ç”¨/å¯ç”¨æ—¶æ®µï¼š    {{selectBanTime}}
      </view>
    </view>
    <fui-button type="success" radius="96rpx" disabled="{{disable}}" bind:click="bindBanOrAllow">ç¦ç”¨/å¯ç”¨æ­¤æ—¶é—´æ®µ</fui-button>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <view class="section">
      <view class="picker" 	space="ensp">
        Date of abondon/permissionï¼š    {{dayArray[dayindex]}}
      </view>
    </view>
    <view class="section">
      <view class="picker" 	space="ensp">
        Time period of abondon/permissionï¼š    {{timePeriodArray[timePeriodIndex]}}
      </view>
    </view>
    <fui-button type="success" radius="96rpx" disabled="{{disable}}" bind:click="bindBanOrAllow">Ban or Allow this time period</fui-button>
  </block>
</block>

<!--æƒé™ä¸º5â€”â€”ç®¡ç†ç«¯ç•Œé¢-->
<block wx:if="{{credit === 5 }}">

</block>

<!--ä½¿ç”¨è¯´æ˜çš„æŒ‰é’®-->
<!--æƒé™ä¸º1æˆ–3â€”â€”å­¦ç”Ÿç«¯ç•Œé¢-->
<block wx:if="{{credit === 1 || credit === 3}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <fui-button type="link" color="rgba(128, 128, 128, 0.548)" size="24" bind:click="getRulesStudent">
      ä½¿ç”¨è¯´æ˜
    </fui-button>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <fui-button type="link" color="rgba(128, 128, 128, 0.548)" size="24" bind:click="getRulesStudent">
      Instruction
    </fui-button>
  </block>
</block>

<!--æƒé™ä¸º2æˆ–4â€”â€”æ•™å¸ˆç«¯ç•Œé¢-->
<block wx:elif="{{credit === 2 || credit === 4}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <fui-button type="link" color="rgba(128, 128, 128, 0.548)" size="24" bind:click="getRulesTeacher">
      ä½¿ç”¨è¯´æ˜
    </fui-button>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <fui-button type="link" color="rgba(128, 128, 128, 0.548)" size="24" bind:click="getRulesTeacher">
      Instruction
    </fui-button>
  </block>
</block>

<!--æƒé™ä¸º5â€”â€”ç®¡ç†å‘˜ç•Œé¢-->
<block wx:else>

</block>

<!--æ˜¾ç¤ºåº”ç”¨ä½¿ç”¨è¯´æ˜ï¼ˆé€šè¿‡åº•éƒ¨å¼¹çª—ï¼‰-->
<!--æƒé™ä¸º1æˆ–3â€”â€”å­¦ç”Ÿç«¯ç•Œé¢-->
<block wx:if="{{credit === 1 || credit === 3}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <fui-bottom-popup show="{{show}}" bindclose="closePopup">
      <view class="fui-scroll__wrap">
        <view class="fui-title fui-title__pb">
          ä½¿ç”¨è¯´æ˜
        </view>
        <scroll-view scroll-y class="fui-scroll__view">
          <towxml nodes="{{article}}"/>
        </scroll-view>
        <view class="fui-icon__close" bindtap="closePopup">
          <fui-icon name="close" size="{{48}}"></fui-icon>
        </view>
      </view>
    </fui-bottom-popup>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <fui-bottom-popup show="{{show}}" bindclose="closePopup">
      <view class="fui-scroll__wrap">
        <view class="fui-title fui-title__pb">
          Instruction
        </view>
        <scroll-view scroll-y class="fui-scroll__view">
          <fui-list-cell wx:for="{{cn_teacher_text}}" wx:key="index">{{en_student_text[index]}}</fui-list-cell>
        </scroll-view>
        <view class="fui-icon__close" bindtap="closePopup">
          <fui-icon name="close" size="{{48}}"></fui-icon>
        </view>
      </view>
    </fui-bottom-popup>
  </block>
</block>

<!--æƒé™ä¸º2æˆ–4â€”â€”æ•™å¸ˆç«¯ç•Œé¢-->
<block wx:elif="{{credit === 2 || credit === 4}}">
  <!--ä¸­æ–‡ç•Œé¢-->
  <block wx:if="{{language}}">
    <fui-bottom-popup show="{{show}}" bindclose="closePopup">
      <view class="fui-scroll__wrap">
        <view class="fui-title fui-title__pb">
          ä½¿ç”¨è¯´æ˜
        </view>
        <scroll-view scroll-y class="fui-scroll__view">
          <fui-list-cell wx:for="{{cn_teacher_text}}" wx:key="index">{{cn_teacher_text[index]}}</fui-list-cell>
        </scroll-view>
        <view class="fui-icon__close" bindtap="closePopup">
          <fui-icon name="close" size="{{48}}"></fui-icon>
        </view>
      </view>
    </fui-bottom-popup>
  </block>
  <!--è‹±æ–‡ç•Œé¢-->
  <block wx:else>
    <fui-bottom-popup show="{{show}}" bindclose="closePopup">
      <view class="fui-scroll__wrap">
        <view class="fui-title fui-title__pb">
          Instruction
        </view>
        <scroll-view scroll-y class="fui-scroll__view">
          <fui-list-cell wx:for="{{cn_teacher_text}}" wx:key="index">{{en_teacher_text[index]}}</fui-list-cell>
        </scroll-view>
        <view class="fui-icon__close" bindtap="closePopup">
          <fui-icon name="close" size="{{48}}"></fui-icon>
        </view>
      </view>
    </fui-bottom-popup>
  </block>
</block>

<!--æƒé™ä¸º5â€”â€”ç®¡ç†å‘˜ç•Œé¢-->
<block wx:else>

</block>